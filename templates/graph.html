<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-heart-pulse' viewBox='0 0 16 16'>  <path d='m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053.918 3.995.78 5.323 1.508 7H.43c-2.128-5.697 4.165-8.83 7.394-5.857q.09.083.176.171a3 3 0 0 1 .176-.17c3.23-2.974 9.522.159 7.394 5.856h-1.078c.728-1.677.59-3.005.108-3.947C13.486.878 10.4.28 8.717 2.01zM2.212 10h1.315C4.593 11.183 6.05 12.458 8 13.795c1.949-1.337 3.407-2.612 4.473-3.795h1.315c-1.265 1.566-3.14 3.25-5.788 5-2.648-1.75-4.523-3.434-5.788-5'/>  <path d='M10.464 3.314a.5.5 0 0 0-.945.049L7.921 8.956 6.464 5.314a.5.5 0 0 0-.88-.091L3.732 8H.5a.5.5 0 0 0 0 1H4a.5.5 0 0 0 .416-.223l1.473-2.209 1.647 4.118a.5.5 0 0 0 .945-.049l1.598-5.593 1.457 3.642A.5.5 0 0 0 12 9h3.5a.5.5 0 0 0 0-1h-3.162z'/></svg>"
        type="image/svg+xml">
        <link rel="stylesheet" href="static/css/graph.css">
</head>

<body>
    <div class="nav">
        {% include('nav.html') %}
    </div>

    <div class="container">
        <div class="row mb-4">
            <div class="col-12">
                <h2 class="mt-4 mb-3">Fragment Read Length Distribution</h2>
            </div>
        </div>
        
        <div class="row">
            <div class="col-12">
                <div class="dataset-controls">
                    <h5>Dataset Controls</h5>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="dataset1Toggle" checked>
                        <label class="form-check-label" for="dataset1Toggle">Dataset 1</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="dataset2Toggle" checked>
                        <label class="form-check-label" for="dataset2Toggle">Dataset 2</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="dataset3Toggle" checked>
                        <label class="form-check-label" for="dataset3Toggle">Dataset 3</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="dataset4Toggle" checked>
                        <label class="form-check-label" for="dataset4Toggle">Dataset 4</label>
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="dataset5Toggle" checked>
                        <label class="form-check-label" for="dataset5Toggle">Dataset 5</label>
                    </div>
                    <div class="form-check mt-2">
                        <input class="form-check-input" type="checkbox" id="showFillToggle">
                        <label class="form-check-label" for="showFillToggle">Show Fill</label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-12">
                <div class="chart-container">
                    <canvas id="myChart"></canvas>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <h4>Selected Data</h4>
                <table class="table table-striped" id="selectedDataTable">
                    <thead>
                        <tr>
                            <th></th>
                            <th>ID</th>
                            <th>diseage_status_Sex,Age</th>
                            <th>tissue</th>
                            <th>#of_fragment_read_length</th>
                            <th>platform</th>
                            <th>assey</th>
                            <th>study</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <script>
            // Your first dataset
            const rawData1 = "0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,488.0,589.0,807.0,2438.0,3015.0,3055.0,3317.0,2681.0,2473.0,2603.0,3166.0,3771.0,4760.0,5862.0,6573.0,6765.0,6746.0,6198.0,6122.0,6488.0,7138.0,8255.0,9646.0,12114.0,14330.0,13943.0,12777.0,11402.0,11879.0,12832.0,14179.0,15928.0,18685.0,24436.0,31732.0,38731.0,37536.0,29872.0,24348.0,23988.0,27059.0,30786.0,36058.0,44493.0,57624.0,76302.0,95593.0,100515.0,92253.0,83379.0,88424.0,106257.0,133511.0,164261.0,190596.0,201332.0,204286.0,208313.0,215146.0,220516.0,230284.0,247400.0,269708.0,297381.0,326785.0,354039.0,360540.0,354055.0,360774.0,384118.0,429675.0,486382.0,545572.0,597569.0,635566.0,681074.0,753710.0,866275.0,963338.0,1002319.0,1002106.0,985192.0,954029.0,910636.0,867295.0,832107.0,816821.0,813256.0,806934.0,793586.0,761278.0,713252.0,662325.0,611440.0,561224.0,519012.0,483535.0,457633.0,437724.0,419474.0,400317.0,380421.0,357213.0,329364.0,302795.0,276684.0,252255.0,232297.0,214773.0,201710.0,190169.0,180236.0,170960.0,160253.0,148958.0,136799.0,126871.0,115689.0,107007.0,98779.0,92215.0,87688.0,83402.0,78542.0,73671.0,68184.0,63004.0,57482.0,53186.0,49210.0,45692.0,42849.0,40400.0,38287.0,35983.0,33021.0,30817.0,28063.0,25915.0,23666.0,21966.0,20595.0,19570.0,18054.0,17162.0,15957.0,14893.0,13878.0,12832.0,11911.0,11267.0,10487.0,10202.0,9691.0,9524.0,8978.0,8635.0,8099.0,7476.0,7371.0,6919.0,6677.0,6346.0,5991.0,6071.0,6087.0,5802.0,5871.0,4575.0,4538.0,4355.0,4292.0,2084.0,2190.0,2143.0,2165.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0";
            const dataValues1 = rawData1.split(',').map(val => parseFloat(val));
            
            // In a real application, you would replace this with your actual second dataset
            const rawData2 = "0.0,0.0,7.0,8.0,6.0,2.0,3.0,5.0,6.0,1.0,4.0,5.0,5.0,10.0,3.0,2.0,5.0,2.0,15.0,4.0,9.0,21.0,26.0,138.0,120.0,127.0,181.0,232.0,319.0,365.0,502.0,621.0,714.0,874.0,1246.0,1475.0,1698.0,1903.0,1985.0,2493.0,3066.0,3647.0,5031.0,4564.0,136620.0,136125.0,136822.0,137939.0,140222.0,143672.0,145900.0,148116.0,151618.0,153491.0,148499.0,143582.0,141895.0,142441.0,143807.0,144963.0,147874.0,146867.0,146627.0,145497.0,141357.0,138520.0,136381.0,135837.0,135849.0,135764.0,134891.0,134059.0,136131.0,137570.0,134537.0,128212.0,124211.0,121819.0,120575.0,122294.0,124222.0,127233.0,133335.0,142087.0,139762.0,128504.0,118594.0,112439.0,110422.0,111496.0,115730.0,117933.0,122080.0,128888.0,135600.0,135319.0,126215.0,118241.0,115584.0,117403.0,120658.0,124616.0,127722.0,129501.0,129354.0,128315.0,127184.0,124498.0,122549.0,122720.0,122348.0,124138.0,127061.0,129696.0,133769.0,132407.0,127632.0,122456.0,120731.0,122630.0,127176.0,134837.0,143522.0,156331.0,176116.0,194210.0,195798.0,178687.0,158419.0,147276.0,149536.0,160843.0,177683.0,194687.0,213482.0,236986.0,260066.0,266682.0,257325.0,244521.0,247785.0,268627.0,301098.0,338881.0,368332.0,380161.0,373624.0,360796.0,348814.0,343253.0,337839.0,342066.0,348462.0,355103.0,361544.0,367354.0,374071.0,374708.0,375832.0,384286.0,397454.0,413854.0,432441.0,452900.0,475857.0,495586.0,508271.0,507648.0,493346.0,466687.0,434108.0,399360.0,370976.0,349578.0,334182.0,324214.0,311315.0,290669.0,264862.0,236962.0,211541.0,189395.0,169917.0,155948.0,143291.0,133601.0,124864.0,117095.0,108426.0,100744.0,91501.0,83983.0,77187.0,70612.0,65934.0,61097.0,57449.0,53499.0,50249.0,47450.0,44802.0,41211.0,38605.0,35985.0,33710.0,32042.0,29807.0,27901.0,26537.0,24907.0,23508.0,22354.0,20430.0,19422.0,18298.0,17101.0,16290.0,15266.0,14549.0,14000.0,13153.0,12500.0,11680.0,11276.0,10490.0,10098.0,9894.0,9259.0,8797.0,8495.0,8235.0,7952.0,7735.0,7614.0,7329.0,7039.0,6622.0,6450.0,6139.0,6126.0,6025.0,5999.0,5887.0,6069.0,5994.0,5738.0,5593.0,5506.0,5325.0,5267.0,5153.0,5123.0,5143.0,5138.0,5097.0,5210.0,4955.0,5039.0,4889.0,4805.0,4687.0,4779.0,4715.0,4856.0,4861.0,4899.0,4904.0,4801.0,4842.0,4723.0,4801.0,4802.0,4767.0,4863.0,4971.0,5078.0,5055.0,4958.0,4995.0,5017.0,4958.0,4995.0,5031.0,5271.0,5499.0,5586.0,5672.0,5686.0,5697.0,5725.0,5824.0,5867.0,6005.0,6199.0,6240.0,6393.0,6482.0,6646.0,6796.0,7042.0,7212.0,7354.0,7348.0,7440.0,7260.0,7081.0,7315.0,7318.0,7563.0,7785.0,7848.0,7753.0,7720.0,7569.0,7476.0,7296.0,7151.0,7291.0,6870.0,7096.0,6876.0,6895.0,6675.0,6607.0,6439.0,5997.0,5620.0,5495.0,5334.0,5128.0,5001.0,4968.0,4908.0,4871.0,4900.0,4814.0,4663.0,4660.0,4636.0,4340.0,4321.0,4221.0,4198.0,4045.0,4038.0,4006.0,4045.0,4019.0,3929.0,3709.0,3605.0,3501.0,3348.0,3370.0,2657.0,2640.0,2538.0,1158.0,1226.0,1090.0,432.0,489.0,418.0,119.0,129.0,104.0,2.0,2.0,2.0,7.0,2.0,1.0,2.0,1.0,0.0,0.0,0.0,0.0,2.0,2.0,1.0,1.0,0.0,0.0,0.0,1.0,1.0,0.0,0.0,1.0,0.0,1.0,0.0,1.0,0.0,1.0,0.0,0.0,0.0,1.0"; 
            const dataValues2 = rawData2.split(',').map(val => parseFloat(val));

            const rawData3 = "0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1439.0,1471.0,1624.0,1859.0,4137.0,4964.0,5807.0,6655.0,6710.0,6751.0,6486.0,6504.0,6857.0,7648.0,8769.0,10405.0,12370.0,14387.0,14633.0,13895.0,13157.0,13500.0,14848.0,16696.0,17914.0,21198.0,26516.0,33687.0,39390.0,38315.0,32745.0,29224.0,29942.0,33918.0,39097.0,44557.0,53415.0,66766.0,84142.0,100312.0,103763.0,96804.0,92493.0,99495.0,118697.0,142887.0,169452.0,187878.0,194507.0,192754.0,193398.0,196218.0,200525.0,208409.0,225313.0,244708.0,264577.0,281944.0,295985.0,296933.0,291850.0,298044.0,318184.0,351409.0,394022.0,441202.0,482046.0,515604.0,556630.0,624635.0,715069.0,785387.0,797474.0,770613.0,734415.0,693329.0,653535.0,608079.0,572357.0,547641.0,524303.0,498452.0,466551.0,427447.0,385753.0,347034.0,312751.0,281821.0,255705.0,233766.0,215893.0,200981.0,187290.0,174928.0,162565.0,150357.0,137203.0,125437.0,113794.0,104383.0,95549.0,88266.0,82656.0,77554.0,73273.0,69301.0,65783.0,60647.0,56595.0,51950.0,47854.0,44166.0,40890.0,38597.0,35896.0,33967.0,32050.0,30262.0,28107.0,25929.0,23608.0,22018.0,20086.0,18502.0,17439.0,16269.0,15632.0,14788.0,13634.0,12680.0,12133.0,11097.0,10366.0,9616.0,8757.0,8476.0,8084.0,7820.0,7657.0,7293.0,6900.0,6583.0,6249.0,6280.0,5469.0,2505.0,2906.0,2555.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0";
            const dataValues3 = rawData3.split(',').map(val => parseFloat(val));

            const rawData4 = "0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,5.0,12.0,11.0,670.0,768.0,765.0,927.0,1069.0,1313.0,1649.0,1588.0,1275.0,1111.0,1027.0,1056.0,1245.0,1366.0,1594.0,2033.0,2666.0,2986.0,3000.0,2556.0,2234.0,2190.0,2273.0,2385.0,2775.0,3376.0,4114.0,4676.0,4787.0,4726.0,4470.0,4335.0,4421.0,4879.0,5475.0,6482.0,7932.0,9527.0,9664.0,8645.0,7937.0,8155.0,9012.0,9732.0,10747.0,12783.0,16204.0,21108.0,25374.0,24620.0,20391.0,18625.0,19565.0,22524.0,25888.0,29579.0,34767.0,43432.0,55576.0,66680.0,69627.0,63667.0,59644.0,63916.0,74390.0,90239.0,108431.0,122662.0,128939.0,130085.0,132904.0,136827.0,137968.0,145348.0,156931.0,172020.0,188545.0,207242.0,223409.0,224617.0,218676.0,221066.0,236702.0,263928.0,299831.0,338301.0,369942.0,392927.0,420944.0,464092.0,532752.0,595205.0,624749.0,628985.0,621890.0,606096.0,583311.0,559979.0,539107.0,531157.0,531168.0,531021.0,527078.0,508969.0,482796.0,451788.0,421656.0,392564.0,365606.0,343281.0,325664.0,313735.0,302862.0,293795.0,281825.0,267803.0,251974.0,233883.0,215951.0,198494.0,184559.0,171922.0,161537.0,154496.0,147531.0,140702.0,132549.0,124165.0,114806.0,106042.0,96553.0,89304.0,83248.0,78035.0,73406.0,69404.0,65440.0,62075.0,57468.0,52891.0,49047.0,44963.0,41293.0,38180.0,36054.0,34088.0,32170.0,30229.0,27952.0,26339.0,23914.0,22080.0,20267.0,18631.0,17623.0,16417.0,15669.0,14596.0,13843.0,12772.0,11929.0,11262.0,10172.0,9716.0,9046.0,8620.0,8437.0,8162.0,7718.0,7450.0,6993.0,6680.0,6352.0,6014.0,5921.0,5612.0,5653.0,5756.0,5716.0,5476.0,5384.0,5199.0,5140.0,5082.0,4836.0,4656.0,4541.0,4804.0,4935.0,5013.0,5396.0,5095.0,5250.0,4969.0,5092.0,5127.0,5620.0,5870.0,6207.0,6478.0,6502.0,6514.0,6655.0,6759.0,6943.0,7329.0,7741.0,7578.0,8412.0,9074.0,6691.0,2829.0,3040.0,3349.0,3301.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0";
            const dataValues4 = rawData4.split(',').map(val => parseFloat(val));

            const rawData5 = "0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,2571.0,3443.0,3768.0,4402.0,5869.0,7149.0,7734.0,7473.0,6267.0,5806.0,5952.0,6108.0,6741.0,7537.0,8787.0,10222.0,11125.0,10957.0,10555.0,9877.0,9601.0,10253.0,11485.0,12616.0,15004.0,18484.0,20781.0,20302.0,18078.0,16237.0,16135.0,17583.0,19342.0,21767.0,26202.0,33468.0,43854.0,51231.0,48362.0,38003.0,30633.0,30069.0,32756.0,37694.0,44566.0,53988.0,69173.0,90859.0,110791.0,113537.0,100847.0,88876.0,96105.0,117234.0,150759.0,190772.0,219746.0,226607.0,222097.0,220540.0,224123.0,222416.0,230153.0,248980.0,276139.0,308298.0,343303.0,371052.0,367838.0,348659.0,342472.0,361876.0,401636.0,460968.0,526985.0,578427.0,611078.0,640214.0,694607.0,782734.0,864094.0,897312.0,897904.0,885330.0,856469.0,818539.0,776009.0,740794.0,723025.0,716161.0,708450.0,694093.0,664143.0,628307.0,584803.0,543569.0,503729.0,468585.0,435897.0,411271.0,392298.0,376860.0,363205.0,349092.0,331892.0,311568.0,289317.0,266917.0,245681.0,228132.0,211958.0,199609.0,190053.0,182231.0,175013.0,166052.0,155649.0,145017.0,133067.0,122676.0,112748.0,105045.0,98793.0,93474.0,88829.0,83410.0,78752.0,73285.0,67753.0,61766.0,56410.0,52199.0,48172.0,45477.0,42613.0,39939.0,37421.0,34700.0,31811.0,29552.0,26559.0,24223.0,22478.0,20849.0,19282.0,17932.0,16804.0,15588.0,14279.0,13217.0,12014.0,11063.0,10160.0,9371.0,8788.0,8142.0,7829.0,7261.0,6742.0,6258.0,5883.0,5519.0,5163.0,4722.0,4391.0,4212.0,4102.0,3918.0,3832.0,3251.0,3157.0,2997.0,2810.0,2531.0,2438.0,2435.0,477.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0";
            const dataValues5 = rawData5.split(',').map(val => parseFloat(val));
            
            // Create labels for the data points
            const labels = Array.from({ length: dataValues1.length }, (_, i) => i);
            
            // Chart initialization
            const ctx = document.getElementById('myChart');
            let myChart;

            function initChart() {
                myChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: 'Dataset 1',
                                data: dataValues1,
                                borderColor: 'rgba(75, 192, 192, 1)',
                                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                                borderWidth: 2,
                                pointRadius: 0,
                                tension: 0.1,
                                fill: false,
                                hidden: false
                            },
                            {
                                label: 'Dataset 2',
                                data: dataValues2,
                                borderColor: 'rgba(255, 99, 132, 1)',
                                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                                borderWidth: 2,
                                pointRadius: 0,
                                tension: 0.1,
                                fill: false,
                                hidden: false
                            },
                            {
                                label: 'Dataset 3',
                                data: dataValues3,
                                borderColor: 'rgba(54, 162, 235, 1)',
                                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                                borderWidth: 2,
                                pointRadius: 0,
                                tension: 0.1,
                                fill: false,
                                hidden: false
                            },
                            {
                                label: 'Dataset 4',
                                data: dataValues4,
                                borderColor: 'rgba(255, 206, 86, 1)',
                                backgroundColor: 'rgba(255, 206, 86, 0.2)',
                                borderWidth: 2,
                                pointRadius: 0,
                                tension: 0.1,
                                fill: false,
                                hidden: false
                            },
                            {
                                label: 'Dataset 5',
                                data: dataValues5,
                                borderColor: 'rgba(153, 102, 255, 1)',
                                backgroundColor: 'rgba(153, 102, 255, 0.2)',
                                borderWidth: 2,
                                pointRadius: 0,
                                tension: 0.1,
                                fill: false,
                                hidden: false
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Fragment Length'
                                },
                                ticks: {
                                    autoSkip: true,
                                    maxTicksLimit: 15
                                }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Frequency'
                                },
                                beginAtZero: true
                            }
                        },
                        plugins: {
                            title: {
                                display: true,
                                text: 'Fragment Read Length Distribution Comparison',
                                font: {
                                    size: 16
                                }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                callbacks: {
                                    title: function(tooltipItems) {
                                        return 'Fragment Length: ' + tooltipItems[0].label;
                                    }
                                }
                            },
                            legend: {
                                display: true,
                                position: 'top',
                                labels: {
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        },
                        interaction: {
                            mode: 'nearest',
                            axis: 'x',
                            intersect: false
                        }
                    }
                });
            }
            
            // Initialize the chart
            initChart();
            
            // Toggle dataset visibility
            document.getElementById('dataset1Toggle').addEventListener('change', function() {
                myChart.data.datasets[0].hidden = !this.checked;
                myChart.update();
            });
            
            document.getElementById('dataset2Toggle').addEventListener('change', function() {
                myChart.data.datasets[1].hidden = !this.checked;
                myChart.update();
            });
            document.getElementById('dataset3Toggle').addEventListener('change', function() {
                myChart.data.datasets[2].hidden = !this.checked;
                myChart.update();
            });
            document.getElementById('dataset4Toggle').addEventListener('change', function() {
                myChart.data.datasets[3].hidden = !this.checked;
                myChart.update();
            });
            document.getElementById('dataset5Toggle').addEventListener('change', function() {
                myChart.data.datasets[4].hidden = !this.checked;
                myChart.update();
            });
            
            // Toggle fill
            document.getElementById('showFillToggle').addEventListener('change', function() {
                myChart.data.datasets.forEach(dataset => {
                    dataset.fill = this.checked;
                });
                myChart.update();
            });
            
            // Populate the table with sample data
            const selectedRows = JSON.parse(localStorage.getItem('selectedRows')) || [];
            const tableBody = document.querySelector('#selectedDataTable tbody');
            selectedRows.forEach(rowData => {
                const row = document.createElement('tr');
                rowData.forEach(cellData => {
                    const cell = document.createElement('td');
                    cell.textContent = cellData;
                    row.appendChild(cell);
                });
                tableBody.appendChild(row);
            });
        </script>
    </div>

    <div class="footer">
        {% include('footer.html') %}
    </div>
</body>

</html>